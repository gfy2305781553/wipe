/*!grunt测试版本一 1.0.1 发布日期:2018-11-05*/
var HP=140,bloods=document.getElementById("bloods"),times=document.getElementById("times"),fenshu=document.getElementById("fenshu"),pingmu=document.getElementById("ping"),QiE=document.getElementById("qiE");function fn1(t){var e=document.documentElement.scrollLeft||document.body.scrollLeft,s=(t||window.event).clientX-allLeft(pingmu)-QiE.offsetWidth/2+e,i=(pingmu.clientHeight,pingmu.clientWidth);s<0&&(s=0),s>i-QiE.offsetWidth&&(s=i-QiE.offsetWidth+"px"),QiE.style.left=s+"px"}function allLeft(t){for(var e=0;t;)e+=t.offsetLeft,t=t.offsetParent;return e}function Gold(t,e){this.scoreNum=e,this.NameJin=t,this.randomNum=Math.floor(8*Math.random()),this.speed=2,this.pingmus=document.getElementById("ping"),this.Penguin=document.getElementById("qiE"),this.maxWidth=this.pingmus.offsetWidth-100,this.maxHeight=this.pingmus.offsetHeight,this.posX=Math.floor(Math.random()*this.maxWidth),this.posY=-200,this.initialize()}pingmu.addEventListener("mousemove",fn1,!1),Gold.prototype.drop=function(){this.posY+=this.speed+this.randomNum,this.dom.style.top=this.posY+"px",610<this.posY&&this&&this.remove()},Gold.prototype.initialize=function(){this.dom=document.createElement("div"),this.dom.className=this.NameJin,this.dom.style.left=this.posX+"px",this.dom.style.top=this.posY+"px",this.pingmus.appendChild(this.dom)},Gold.prototype.remove=function(){ballArr.splice(ballArr.indexOf(this),1),this.pingmus.removeChild(this.dom)},Gold.prototype.crash=function(){t1=this.dom.offsetTop,l1=this.dom.offsetLeft,r1=this.dom.offsetLeft+this.dom.offsetWidth,b1=this.dom.offsetTop+this.dom.offsetHeight,t2=this.Penguin.offsetTop,l2=this.Penguin.offsetLeft,r2=this.Penguin.offsetLeft+this.Penguin.offsetWidth,b2=this.Penguin.offsetTop+this.Penguin.offsetHeight,b1<t2||l1>r2||t1>b2||r1<l2||("goldbig"==this.dom.className?(score+=this.scoreNum,fenshu.innerHTML=score):"goldsmall"==this.dom.className?(score+=this.scoreNum,fenshu.innerHTML=score):"sfbsmall"==this.dom.className?(score-=this.scoreNum,fenshu.innerHTML=score):"sfbbig"==this.dom.className?(score-=this.scoreNum,fenshu.innerHTML=score):"zhadan"==this.dom.className&&(HP-=30,score-=this.scoreNum,fenshu.innerHTML=score,bloods.style.width=HP+"px"),"zhadan"==this.dom.className?this.dom.className="huohua":this.pingmus.removeChild(this.dom))};var jieshu=document.getElementsByClassName("jiehsu"),score=0,Countdown=80,newWidth=160,times1=setInterval(function(){Countdown--,newWidth-=2,times.style.width=newWidth+"px",0==Countdown&&alert("您的得分为:“"+score+"”")},500),frame=0,ballArr=[],time=setInterval(function(){++frame%100||ballArr.push(new Gold("goldbig",10)),frame%100||ballArr.push(new Gold("goldsmall",5)),frame%100||ballArr.push(new Gold("sfbbig",10)),frame%100||ballArr.push(new Gold("sfbsmall",5)),frame%300||ballArr.push(new Gold("zhadan",5));for(var t=0;t<ballArr.length;t++)ballArr[t].drop(),ballArr[t].crash()},20);